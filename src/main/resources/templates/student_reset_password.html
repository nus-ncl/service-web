<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>National Cybersecurity Laboratory - Password Reset</title>
    <object th:include="fragments/header :: header" th:remove="tag" />
</head>
<body class="mybg loginbackground">
<div th:replace="fragments/login_navigation :: loginnav"></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="container">

    <p>&nbsp;</p>
    <div class="row dashpanel">
        <h2 class="team-heading team-heading-current-team" th:text="#{passwordReset.header}">Password Reset</h2>
        <p>Enter your name, phone and a new password. For help, please contact <a th:href="#{support.email.link}" th:text="#{support.email}"></a>.</p>


        <form method="post" action="" th:action="@{/student_reset_password}" th:object="${studentPasswordResetForm}" role="form">
            <fieldset>

                <div class="form-group account-change-fail" th:if="${studentPasswordResetForm != null and studentPasswordResetForm.errMsg != null}">
                    <i class="fa fa-exclamation-circle"></i> <span th:text="${studentPasswordResetForm.errMsg}"></span>
                </div>

                <div class="account-change-success" th:if="${studentPasswordResetForm != null and studentPasswordResetForm.successMsg != null}">
                    <i class="fa fa-check"></i> <span th:text="${studentPasswordResetForm.successMsg}"></span>
                </div>


                <div class="form-group">
                    <input type="hidden" class="form-control" th:field="*{key}"/>
                </div>

                <div class="form-group">
                    <input type="hidden" class="form-control" th:field="*{uid}"/>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>User Name<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-7">
                        <input type="text" id="Username_text" class="form-control" placeholder="Please enter a user name" th:field="*{userName}"/>
                    </div>
                    <div class="col-xs-3">
                        <button type="button" id="verify_btn" class="btn btn-special">Verify Username</button>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>First Name<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" placeholder="First Name" th:field="*{firstName}"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>Last Name<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" placeholder="Last Name" th:field="*{lastName}"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>Phone<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" placeholder="Phone" th:field="*{phone}"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>Password<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-10">
                        <input type="password" class="form-control" placeholder="Password" th:field="*{password1}"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-2">
                        <label>Confirm Password<span class="required-field-red">*</span></label>
                    </div>
                    <div class="col-xs-10">
                        <input type="password" class="form-control" placeholder="Confirm Password" th:field="*{password2}"/>
                    </div>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-standard">Reset Password</button>
                </div>
            </fieldset>
        </form>
    </div> <!-- row -->
    <div class="cc-wraper">
        <div class="cc-contactpop fixed">
            <h1>Do you need Help? <span>Get in touch.</span></h1>
            <div class="renseignement">
                <i class="fa fa-times"></i>
                <p>We will get back to you as soon as possible. </p>
            </div>
            <form>
                <ul>
                    <li><i class=""></i> <span> Phone: </span>+65 6601 1056</li>
                    <li><i class=""></i><span>Email:</span><a th:href="#{support.email.link}" th:text="#{support.email}"></a></li>
                    <li><i class=""></i> <span> Address: </span><a href="nclDirections.pdf" target="_blank">NCL COM3-B1-09 Computing 3, 11 Research Link, Singapore 119391</a></li>
                </ul>
                <p>&nbsp;</p>
            </form>
        </div>
    </div>
</div> <!-- container -->
<div th:replace="fragments/footer :: footer"></div>
<object th:include="fragments/javascript :: javascript" th:remove="tag" />

<script>
    $('#verify_btn').on("click", function() {
    $.ajax({
    url: '/checkUsername',
    data: { 'username' : $('#Username_text').val() },
    type: "post",
    cache: false,
    success: function (result) {
        alert(result);
    }
    });
});
</script>
</body>
</html>
