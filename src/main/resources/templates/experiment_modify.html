<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:display="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>National Cybersecurity Laboratories - Experiment Modify</title>
    <object th:include="fragments/header :: header" th:remove="tag"/>
</head>
<body class="mybg loginbackground" onload="setAutoShutdownCheckbox()">
<div th:replace="fragments/dashboard_navigation :: dashboardnav">&nbsp;</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="container">
    <p>&nbsp;</p>
    <div class="row dashpanel">
        <div class="spinner" style="display: none"><h1>modifying experiment...</h1> <i class="fa fa-spinner fa-pulse fa-fw"></i></div>
        <div th:if="${message}">
            <p><i class="fa fa-exclamation-circle btn-fa-red"></i> <span class="account-change-fail" th:text="${message}"></span></p>
        </div>
        <blockquote th:if="${exp_output}"><pre th:text="${exp_output}" style="height:190px;"></pre></blockquote>
        <h2><span th:text="#{experimentProfile.header}">Experiment</span>: <span th:text="${edit_experiment.name}" style="color:#00C7BA;"></span></h2>
        <th:block th:if="${edit_experiment.platform == 0}">
            <p>For more information about the NS language, refer to <a href="http://docs.deterlab.net/core/core-guide/">Deterlab Core Guide</a> for more information.</p>
        </th:block>
        <th:block th:if="${edit_experiment.platform == 1}">
            <p>For more information about the NS language, refer to <a href="https://docs.openstack.org/heat/latest/template_guide/hot_guide.html/">Openstack Heat Template Guide</a> for more information.</p>
        </th:block>
        <form  method="post" action="#" th:action="@{/update_experiment/{teamId}/{expId}/{stack_id}(teamId = ${edit_experiment.teamId}, expId = ${edit_experiment.id}, stack_id = ${edit_experiment.stack_id})}" th:object="${edit_experiment}" role="form">
            <fieldset>
                <div class="form-group">
                    <label for="networkConfig" th:text="#{exp.networkConfig}">Network Configuration</label>
                    <textarea id="networkConfig" rows="20" cols="50" style="resize: none" th:field="*{nsFileContent}" class="form-control network-config-editor"></textarea>
                </div>
                <p>&nbsp;</p>
                <div class="form-group">
                    <div class="checkbox col-sm-4">
                        <label><input type="checkbox" id="max-duration-checkbox" onchange="toggleAutoShutdown(this)" /><strong>Auto-shutdown experiment after:</strong></label>
                    </div>
                    <div class="input-group col-sm-8">
                        <input type="text" class="form-control" id="max-duration" th:field="*{maxDuration}" aria-describedby="max-duration-addon" th:disabled="true" />
                        <span class="input-group-addon" id="max-duration-addon">hour(s)&nbsp;
                            <a href="#" class="data-name-tooltip">
                                <i class="fa fa-question-circle"></i>
                                <span class="tooltiptext exp-max-duration-tooltip" style="text-align: justify; padding: 10px 10px;">
                                    <p>The experiment will be automatically/forcefully shutdown after the specified hours, regardless of whether it's being used or not.<br/><strong>DO NOT</strong> select this option if you wish to manually stop the experiment.</p>
                                </span>
                            </a>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <button id="submit-loader-button" type="submit" class="btn btn-standard">Modify</button>
                </div>
                <p>&nbsp;</p>
            </fieldset>
        </form>

    </div> <!-- row -->
    <div class="cc-wraper">
        <div class="cc-contactpop fixed">
            <h1>Do you need Help? <span>Get in touch.</span></h1>
            <div class="renseignement">
                <i class="fa fa-times"></i>
                <p>We will get back to you as soon as possible. </p>
            </div>
            <form>
                <ul>
                    <li><i class=""></i> <span> Phone: </span>+65 6601 1056</li>
                    <li><i class=""></i><span>Email:</span><a th:href="#{support.email.link}"
                                                              th:text="#{support.email}"></a></li>
                    <li><i class=""></i> <span> Address: </span><a
                            href="https://www.google.com.sg/maps/dir//NUS+Computing,+13+Computing+Drive,+117417/@1.3437459,103.8240449,11z/data=!4m8!4m7!1m0!1m5!1m1!1s0x31da1af8c0faba33:0x9f0d02392be4dfbe!2m2!1d103.773846!2d1.295053?hl=en">13
                        COMPUTING DRIVE, COM1 #01-16 Singapore 117417</a></li>
                </ul>
                <p>&nbsp;</p>
            </form>
        </div>
    </div>
    </div> <!-- container -->
    <div th:replace="fragments/footer:: footer"></div>
    <object th:include="fragments/javascript :: javascript" th:remove="tag"/>
</body>
</html>
